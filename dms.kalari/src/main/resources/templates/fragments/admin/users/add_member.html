

<div class="container-fluid">
  <!-- Modal Header -->
  <div class="modal-header">
    <h5 class="modal-title" id="addUserModalLabel" th:text="${pageTitle}">Add New Member</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
  </div>
  
  <!-- Modal Body -->
  <div class="modal-body">
    <form id="addUserForm" action="/users_addmember" method="post" th:object="${user}">
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
      <!-- Personal Information -->
      <div class="row mb-3">
        <div class="col-12">
          <h6 class="border-bottom pb-2">Personal Information</h6>
        </div>
      </div>
      
      <div class="row mb-2">
        <div class="col-12 col-sm-6 col-md-3">
          <label for="user_fname" class="form-label">First Name</label>
          <input type="text" id="user_fname" th:field="*{userFname}" class="form-control" required>
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label for="user_lname" class="form-label">Last Name</label>
          <input type="text" id="user_lname" th:field="*{userLname}" class="form-control" required>
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label for="user_dob" class="form-label">Date of Birth</label>
          <input type="date" id="user_dob" th:field="*{userDob}" class="form-control">
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label for="gender" class="form-label">Gender</label>
          <select id="gender" th:field="*{gender}" class="form-select">
            <option value="">Select Gender</option>
            <option th:each="gender : ${T(com.dms.kalari.admin.entity.CoreUser.Gender).values()}" 
                    th:value="${gender}" th:text="${gender.name()}"></option>
          </select>
        </div>
      </div>
      
      <div class="row mb-2">
        <div class="col-12 col-sm-6 col-md-3">
          <label for="aadhaarNumber" class="form-label">Aadhaar Number</label>
          <input type="text" id="aadhaarNumber" th:field="*{aadhaarNumber}" class="form-control" maxlength="12" placeholder="12-digit Aadhaar">
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label for="bloodGroup" class="form-label">Blood Group</label>
          <input type="text" id="bloodGroup" th:field="*{bloodGroup}" class="form-control" placeholder="e.g., O+">
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label for="mobileNumber" class="form-label">Mobile Number</label>
          <input type="tel" id="mobileNumber" th:field="*{mobileNumber}" class="form-control" maxlength="10" placeholder="10-digit mobile number">
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label for="emergencyContact" class="form-label">Emergency Contact</label>
          <input type="tel" id="emergencyContact" th:field="*{emergencyContact}" class="form-control" maxlength="15" placeholder="Emergency contact number">
        </div>
      </div>
      
      <!-- Account Information -->
      <div class="row mb-3 mt-4">
        <div class="col-12">
          <h6 class="border-bottom pb-2">Account Information</h6>
        </div>
      </div>
      
      <div class="row mb-2">
        <div class="col-12 col-sm-6 col-md-3">
          <label for="user_email" class="form-label">Email</label>
          <input type="email" id="user_email" th:field="*{userEmail}" class="form-control" required>
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label for="user_desig" class="form-label">Role</label>
          <select id="user_desig" th:field="*{userDesig}" class="form-select">
            <option value="">Select Role</option>
            <option th:each="designation : ${designations}" th:value="${designation.desigId}" th:text="${designation.desigName}"></option>
          </select>
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label class="form-label d-block">Status</label>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" id="active" name="userStatus" value="1" th:checked="*{userStatus == 1}">
            <label class="form-check-label" for="active">Active</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" id="inactive" name="userStatus" value="2" th:checked="*{userStatus == 2}">
            <label class="form-check-label" for="inactive">Inactive</label>
          </div>
        </div>
      </div>
      
      <!-- Address Information -->
      <div class="row mb-3 mt-4">
        <div class="col-12">
          <h6 class="border-bottom pb-2">Address Information</h6>
        </div>
      </div>
      
      <div class="row mb-2">
        <div class="col-12">
          <label for="addressLine1" class="form-label">Address Line 1</label>
          <input type="text" id="addressLine1" th:field="*{addressLine1}" class="form-control">
        </div>
      </div>
      
      <div class="row mb-2">
        <div class="col-12">
          <label for="addressLine2" class="form-label">Address Line 2</label>
          <input type="text" id="addressLine2" th:field="*{addressLine2}" class="form-control">
        </div>
      </div>
      
      <div class="row mb-2">
        <div class="col-12 col-sm-6 col-md-3">
          <label for="addressLine3" class="form-label">Address Line 3</label>
          <input type="text" id="addressLine3" th:field="*{addressLine3}" class="form-control">
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label for="addressState" class="form-label">State</label>
          <input type="text" id="addressState" th:field="*{addressState}" class="form-control">
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label for="addressPin" class="form-label">PIN Code</label>
          <input type="text" id="addressPin" th:field="*{addressPin}" class="form-control" maxlength="6" placeholder="6-digit PIN">
        </div>
      </div>
      
      <!-- Family Information -->
      <div class="row mb-3 mt-4">
        <div class="col-12">
          <h6 class="border-bottom pb-2">Family Information</h6>
        </div>
      </div>
      
      <div class="row mb-2">
        <div class="col-12 col-sm-6 col-md-3">
          <label for="fatherName" class="form-label">Father's Name</label>
          <input type="text" id="fatherName" th:field="*{fatherName}" class="form-control">
        </div>
        <div class="col-12 col-sm-6 col-md-3">
          <label for="motherName" class="form-label">Mother's Name</label>
          <input type="text" id="motherName" th:field="*{motherName}" class="form-control">
        </div>
      </div>
      
      <div id="error-messages" class="text-danger"></div>
    </form>
  </div>
  
  <!-- Modal Footer -->
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
    <button type="button" class="btn btn-primary" onclick="submitHtmlForm('addUserForm')">Add Member</button>
  </div>
</div>

<style>
form {
  max-width: 100%;
}
.modal-dialog {
  max-width: 90% !important; /* wider on desktops */
}
@media (max-width: 768px) {
  .modal-dialog {
    max-width: 100% !important; /* full width on small screens */
    margin: 10px;
  }
}
.modal-body {
  max-height: 70vh;
  overflow-y: auto;
}
</style>
