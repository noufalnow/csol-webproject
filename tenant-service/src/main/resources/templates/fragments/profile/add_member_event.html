<!-- fragments/add_member_event.html -->
<div class="container">
	<div class="modal-header">
		<h5 class="modal-title" id="addMemberEventModalLabel"
			th:text="${pageTitle}">Apply the ...</h5>
		<button type="button" class="btn-close" data-bs-dismiss="modal"
			aria-label="Close"></button>
	</div>

	<div class="modal-body">
		<form id="addMemberEventForm"
			th:action="@{/member-events/html/add/{eventId}(eventId=${eventId})}"
			th:object="${memberEvent}" method="post">

			<!-- Checkbox Group for Kalari Items -->
			<div class="row mb-3">
				<div class="col-12">
					<label class="form-label">Select Event Items</label>
					<div class="form-control" style="height: auto; padding: 15px;">
						<div class="row">
							<div
								th:each="item, iter : ${T(com.example.tenant_service.dto.MemberEventDTO.KalariItem).values()}"
								th:class="${iter.index % 2 == 0} ? 'col-md-6' : 'col-md-6'">
								<div class="form-check">
									<input class="form-check-input" type="checkbox"
										th:id="'item_' + ${item.id}" th:name="items[__${item.id}__]"
										th:value="1"> <label class="form-check-label"
										th:for="'item_' + ${item.id}" th:text="${item.displayName}"></label>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Other form fields -->
			<div class="row mb-3">
				<div class="col-12">
					<label for="notes" class="form-label">Additional Notes</label>
					<textarea id="notes" name="notes" class="form-control" rows="3"></textarea>
				</div>
			</div>
			<div id="error-messages" class="text-danger"></div>
		</form>
	</div>

	<div class="modal-footer">
		<button type="button" class="btn btn-secondary"
			data-bs-dismiss="modal">Cancel</button>
		<button type="button" class="btn btn-primary"
			onclick="submitHtmlForm('addMemberEventForm')">Add to Event
		</button>
	</div>
</div>

<style>
form {
	max-width: 100%;
}

.form-control[readonly] {
	background-color: #e9ecef;
	opacity: 1;
}
</style>
